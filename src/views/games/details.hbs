<section class="game-card">
    <h2 class="section-title">Game Overview</h2>

    <div class="game-card-container">
        <div class="game-image">
            <img src="{{game.imageUrl}}" alt="Game Cover">
        </div>

        <div class="game-details">
            <h3 class="game-title">{{game.title}}</h3>
            <p><strong>Developer:</strong> {{game.developers}}</p>
            <p><strong>Genre:</strong> {{game.genre}}</p>
            <p><strong>Release:</strong> {{game.relDate}}</p>
            <p><strong>Platform:</strong> {{game.platforms}}</p>
            <p><strong>Description:</strong> {{game.description}}</p>

            <div class="game-stats">
                <p><strong>Rating:</strong> {{game.rating}}/10</p>
                <p><strong>Average Time:</strong> {{game.length}} hours</p>
            </div>
        </div>
    </div>

    {{#if isAuthenticated}}
    <a href="/reviews/{{game.id}}/create"><button class="review-btn">Leave a Review</button></a>
    {{else}}
    <p class="basic-text">You need to <a href="/auth/login">login</a> to leave a review</p>
    {{/if}}

    <!-- Reviews Display Section -->
    <div class="reviews-showcase">
        <h3 class="reviews-title">Player Reviews</h3>

        <div class="reviews-container">
            <ul class="review-list">
                {{#each game.reviews}}
                <li class="review-list-item">
                    <div class="review-card">
                        <p class="review-text">{{thoughts}}</p>
                        <div class="review-footer">
                            <span class="reviewer">{{user.username}}</span>
                            <span class="stars">⭐ {{rating}}/10</span>
                            <span class="playTime">⏲ {{playTime}} hours</span>
                        </div>
                    </div>
                </li>
                {{else}}
                <p class="section-title">There are no reviews yet...</p>
                {{/each}}
            </ul>
        </div>
        {{#if game.reviews}}
        <div class="reviews-pagination">
            <button class="page-btn prev">← Previous</button>
            <div class="page-numbers">
                <button class="page-number active">1</button>
                <button class="page-number">2</button>
                <button class="page-number">3</button>
            </div>
            <button class="page-btn next">Next →</button>
        </div>
        {{/if}}
    </div>
    {{#if isAdmin}}
    <div class="game-actions">
        <a href="/games/{{game.id}}/edit"><button class="edit-btn">Edit Game</button></a>
        <a href="/games/{{game.id}}/delete"><button class="delete-btn">Delete Game</button></a>
    </div>
    {{/if}}
</section>